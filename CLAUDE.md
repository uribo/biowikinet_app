CLAUDE.md
=========

このファイルは、Claude Code がこのリポジトリのコードを扱う際のガイダンスを提供します。

タスクはtodoに落とし込み、適宜このファイルに作業状況を反映するようにしてください。

## プロジェクト概要

**プロジェクトを開始する前に、必ずこの項目をプロジェクトに特化したものに更新してください。**

BioWikiNet: 生物種・分類群間のネットワーク可視化アプリケーション

### 目標

**ユーザの操作**

1. 言語版の選択（en, ja, es, fr, ...）
2. ~~ネットワークを表示する分類群のレベルを選択（複数の選択が可能）~~
3. 検索ボックスで分類群名を入力（インクリメントサーチを実装予定）

**サーバの処理**

1. 入力された分類群名に基づいて、データセット（nodes, edges）を構築

## 環境

- R
    - Python(Streamlit)でも同様の処理が可能であるが、実装はRで行う。実装の参考にPythonコードを生成することは構わないが、最終的にはRコードを提案すること。
- 主要パッケージ ... 可能な限りモダンなパッケージを利用
    - tidyverse
    - shiny

## コーディング規約

### tidyverse　コーディングスタイル

- スタイルガイド <https://style.tidyverse.org/>
- パイプ演算子はR標準の ` |> ` を用い、 magrittr パッケージが実装する `%>%` は使用しない。
- 処理に必要な関数を含むパッケージはコードの冒頭で `library()`で読む込むようにするが、実際のコード利用箇所でも保守性を高めるために、どのパッケージによる関数かを明示的に示すこと。
    - (例)  `dplyr::select(...)`, `readr::read_csv(...)`
- 無名関数を使用する際は　単独の引数をもつ場合 `\(x) ... ` 、複数の引数からなる関数では `function(x, y) ... `の形式で記述すること。
- フォーマッター <https://posit-dev.github.io/air/formatter.html>